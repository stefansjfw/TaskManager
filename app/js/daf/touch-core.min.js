/*!
* Data Aquarium Framework - Touch UI Core
* Copyright 2020-2023 Code On Time LLC; Licensed MIT; http://codeontime.com/license
* Copyright 2010-2014 jQuery Foundation, Inc. and othercontributors
* Released under the MIT license; http://jquery.org/license
*/
(function(n,t,i){i(n.jQuery,n,t)})(this,document,function(n,t,i){var r=$.touch={};$.extend($.expr[":"],{data:$.expr.createPseudo(function(n){return function(t){return!!$.data(t,n)}})}),function(n,t){n.extend(r,{window:n(t),document:n(i),behaviors:{},getClosestBaseUrl:function(t){var i=n(t).closest(".ui-page").jqmData("url"),u=r.path.documentBase.hrefNoHash;return r.dynamicBaseEnabled&&i&&r.path.isPath(i)||(i=u),r.path.makeUrlAbsolute(i,u)},removeActiveLinkClass:function(n){!r.activeClickedLink||r.activeClickedLink.closest("."+r.activePageClass).length&&!n||r.activeClickedLink.removeClass(r.activeBtnClass);r.activeClickedLink=null},getInheritedTheme:function(n,t){for(var i=n[0],u="",r,f;i;){if(r=i.className||"",r&&(f=/ui-(bar|body|overlay)-([a-z])\b/.exec(r))&&(u=f[2]))break;i=i.parentNode}return u||t||"a"},enhanceable:function(n){return this.haveParents(n,"enhance")},haveParents:function(t,i){if(!r.ignoreContentEnabled)return t;for(var c=t.length,e=n(),u,s,o,h,f=0;f<c;f++){for(s=t.eq(f),o=!1,u=t[f];u;){if(h=u.getAttribute?u.getAttribute("data-"+r.ns+i):"",h==="false"){o=!0;break}u=u.parentNode}o||(e=e.add(s))}return e},getScreenHeight:function(){return t.innerHeight||r.window.height()},resetActivePageHeight:function(){},loading:function(){return returnValue}});n.addDependents=function(t,i){var r=n(t),u=r.jqmData("dependents")||n();r.jqmData("dependents",n(u).add(i))};n.fn.extend({removeWithDependents:function(){n.removeWithDependents(this)},enhanceWithin:function(){return n.fn.buttonMarkup&&this.find(n.fn.buttonMarkup.initSelector).not(!1).jqmEnhanceable().buttonMarkup(),this},addDependents:function(t){n.addDependents(this,t)},getEncodedText:function(){return n("<a><\/a>").text(this.text()).html()},jqmEnhanceable:function(){return r.enhanceable(this)}});n.removeWithDependents=function(t){var i=n(t);(i.jqmData("dependents")||n()).remove();i.remove()};n.addDependents=function(t,i){var r=n(t),u=r.jqmData("dependents")||n();r.jqmData("dependents",n(u).add(i))};n.find.matches=function(t,i){return n.find(t,null,null,i)};n.find.matchesSelector=function(t,i){return n.find(i,null,null,[t]).length>0}}(n,this),function(n){n.extend(r,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:n(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(n,this),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i=0,r;(r=t[i])!=null;i++)try{n(r).triggerHandler("remove")}catch(f){}u(t)};n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r};n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h=typeof e=="string",s=i.call(arguments,1),o=this;return e=!h&&s.length?n.widget.extend.apply(null,[e].concat(s)):e,h?this.each(function(){var i,u=n.data(this,f);return e==="instance"?(o=u,!1):u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,s),i!==u&&i!==t?(o=i&&i.jquery?o.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),o}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^(\w+)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{};typeof u=="number"&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}})}(n),function(n,t,i){var u={},f=n.find,e=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,o=/:jqmData\(([^)]*)\)/g;n.extend(r,{ns:"",getAttribute:function(n,t){var i;n=n.jquery?n[0]:n;n&&n.getAttribute&&(i=n.getAttribute("data-"+r.ns+t));try{i=i==="true"?!0:i==="false"?!1:i==="null"?null:+i+""===i?+i:e.test(i)?JSON.parse(i):i}catch(u){}return i},nsNormalizeDict:u,nsNormalize:function(t){return u[t]||(u[t]=n.camelCase(r.ns+t))}});n.fn.jqmData=function(n,t){var u;return typeof n!="undefined"&&(n&&(n=r.nsNormalize(n)),u=arguments.length<2||t===i?this.data(n):this.data(n,t)),u};n.jqmData=function(t,i,u){var f;return typeof i!="undefined"&&(f=n.data(t,i?r.nsNormalize(i):i,u)),f};n.fn.jqmRemoveData=function(n){return this.removeData(r.nsNormalize(n))};n.jqmRemoveData=function(t,i){return n.removeData(t,r.nsNormalize(i))};n.find=function(n,t,i,u){return n.indexOf(":jqmData")>-1&&(n=n.replace(o,"[data-"+(r.ns||"")+"$1]")),f.call(this,n,t,i,u)};n.extend(n.find,f)}(n,this),function(n){var t=/[A-Z]/g,i=function(n){return"-"+n.toLowerCase()};n.extend(n.Widget.prototype,{_getCreateOptions:function(){var n,u,f=this.element[0],e={};if(!r.getAttribute(f,"defaults"))for(n in this.options)u=r.getAttribute(f,n.replace(t,i)),u!=null&&(e[n]=u);return e}});r.widget=n.Widget}(n),function(n){var t={touch:"ontouchend"in i};r.support=r.support||{};n.extend(n.support,t);n.extend(r.support,t)}(n),function(n){n.extend(n.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(n),function(n){n.extend(r,{browser:{}});r.browser.oldIE=!1;n.extend(n.support,{pushState:!0,mediaquery:!0,cssPseudoElement:!0,touchOverflow:!0,cssTransform3d:!0,boxShadow:!0,fixedPosition:!0,scrollTop:!0,dynamicBaseTag:!0,cssPointerEvents:!!t.PointerEvent,boundingRect:!0,inlineSVG:!0})}(n),function(n,t){var i=r.window,u,f=function(){};n.event.special.beforenavigate={setup:function(){i.on("navigate",f)},teardown:function(){i.off("navigate",f)}};n.event.special.navigate=u={bound:!1,pushStateEnabled:!0,originalEventName:t,popstate:function(t){var u=new n.Event("navigate"),r=new n.Event("beforenavigate"),f=t.originalEvent.state||{};(r.originalEvent=t,i.trigger(r),r.isDefaultPrevented())||(t.historyState&&n.extend(f,t.historyState),u.originalEvent=t,setTimeout(function(){i.trigger(u,{state:f})},0))},hashchange:function(t){var u=new n.Event("navigate"),r=new n.Event("beforenavigate");(r.originalEvent=t,i.trigger(r),r.isDefaultPrevented())||(u.originalEvent=t,i.trigger(u,{state:t.hashchangeState||{}}))},setup:function(){u.bound||(u.bound=!0,u.originalEventName="popstate",i.bind("popstate.navigate",u.popstate))}}}(n),function(n,i){var u,e,f="&ui-state=dialog";r.path=u={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(n){var r=this.parseUrl(n||location.href),t=n?r:location,i=r.hash;return i=i==="#"?"":i,t.protocol+r.doubleSlash+t.host+(t.protocol!==""&&t.pathname.substring(0,1)!=="/"?"/":"")+t.pathname+t.search+i},getDocumentUrl:function(t){return t?n.extend({},u.documentUrl):u.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if(n.type(t)==="object")return t;var i=u.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(n,t){var i,u,r,f;if(n&&n.charAt(0)==="/")return n;for(n=n||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",i=t?t.split("/"):[],u=n.split("/"),r=0;r<u.length;r++){f=u[r];switch(f){case".":break;case"..":i.length&&i.pop();break;default:i.push(f)}}return"/"+i.join("/")},isSameDomain:function(n,t){return u.parseUrl(n).domain.toLowerCase()===u.parseUrl(t).domain.toLowerCase()},isRelativeUrl:function(n){return u.parseUrl(n).protocol===""},isAbsoluteUrl:function(n){return u.parseUrl(n).protocol!==""},makeUrlAbsolute:function(n,t){if(!u.isRelativeUrl(n))return n;t===i&&(t=this.documentBase);var r=u.parseUrl(n),f=u.parseUrl(t),e=r.protocol||f.protocol,o=r.protocol?r.doubleSlash:r.doubleSlash||f.doubleSlash,s=r.authority||f.authority,h=r.pathname!=="",c=u.makePathAbsolute(r.pathname||f.filename,f.pathname),l=r.search||!h&&f.search||"",a=r.hash;return e+o+s+c+l+a},addSearchParams:function(t,i){var r=u.parseUrl(t),e=typeof i=="object"?n.param(i):i,f=r.search||"?";return r.hrefNoSearch+f+(f.charAt(f.length-1)!=="?"?"&":"")+e+(r.hash||"")},convertUrlToDataUrl:function(n){var r=n,i=u.parseUrl(n);return u.isEmbeddedPage(i)?r=i.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):u.isSameDomain(i,this.documentBase)&&(r=i.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]),t.decodeURIComponent(r)},get:function(n){return n===i&&(n=u.parseLocation().hash),u.stripHash(n).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(n){location.hash=n},isPath:function(n){return/\//.test(n)},clean:function(n){return n.replace(this.documentBase.domain,"")},stripHash:function(n){return n.replace(/^#/,"")},stripQueryParams:function(n){return n.replace(/\?.*$/,"")},cleanHash:function(n){return u.stripHash(n.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(n){return/^#[^#]+$/.test(n)},isExternal:function(n){var t=u.parseUrl(n);return!!(t.protocol&&t.domain.toLowerCase()!==this.documentUrl.domain.toLowerCase())},hasProtocol:function(n){return/^(:?\w+:)/.test(n)},isEmbeddedPage:function(n){var t=u.parseUrl(n);return t.protocol!==""?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(n,t){var i,f,l,o,s,h=this.isPath(n),c=this.parseUrl(n),r=c.hash,e="";return t||(h?t=u.getLocation():(s=u.getDocumentUrl(!0),t=u.isPath(s.hash)?u.squash(s.href):s.href)),f=h?u.stripHash(n):n,f=u.isPath(c.hash)?u.stripHash(c.hash):f,o=f.indexOf(this.uiStateKey),o>-1&&(e=f.slice(o),f=f.slice(0,o)),i=u.makeUrlAbsolute(f,t),l=this.parseUrl(i).search,h?((u.isPath(r)||r.replace("#","").indexOf(this.uiStateKey)===0)&&(r=""),e&&r.indexOf(this.uiStateKey)===-1&&(r+=e),r.indexOf("#")===-1&&r!==""&&(r="#"+r),i=u.parseUrl(i),i=i.protocol+i.doubleSlash+i.host+i.pathname+l+r):i+=i.indexOf("#")>-1?e:"#"+e,i},isPreservableHash:function(n){return n.replace("#","").indexOf(this.uiStateKey)===0},hashToSelector:function(n){var t=n.substring(0,1)==="#";return t&&(n=n.substring(1)),(t?"#":"")+n.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(n){return n&&n.split(f)[0]},isFirstPageUrl:function(n){var t=u.parseUrl(u.makeUrlAbsolute(n,this.documentBase)),o=t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash,f=r.firstPage,e=f&&f[0]?f[0].id:i;return o&&(!t.hash||t.hash==="#"||e&&t.hash.replace(/^#/,"")===e)},isPermittedCrossDomainRequest:function(n,t){return r.allowCrossDomainPages&&(n.protocol==="file:"||n.protocol==="content:")&&t.search(/^https?:/)!==-1}};u.documentUrl=u.parseLocation();e=n("head").find("base");u.documentBase=e.length?u.parseUrl(u.makeUrlAbsolute(e.attr("href"),u.documentUrl.href)):u.documentUrl;u.documentBaseDiffers=u.documentUrl.hrefNoHash!==u.documentBase.hrefNoHash;u.getDocumentBase=function(t){return t?n.extend({},u.documentBase):u.documentBase.href}}(n),function(n,t){r.History=function(n,t){this.stack=n||[];this.activeIndex=t||0};n.extend(r.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(n,t){t=t||{};this.getNext()&&this.clearForward();t.hash&&t.hash.indexOf("#")===-1&&(t.hash="#"+t.hash);t.url=n;this.stack.push(t);this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(n,t,i){t=t||this.stack;for(var u,e=t.length,f,r=0;r<e;r++)if(u=t[r],(decodeURIComponent(n)===decodeURIComponent(u.url)||decodeURIComponent(n)===decodeURIComponent(u.hash))&&(f=r,i))return f;return f},closest:function(n){var i,r=this.activeIndex;return i=this.find(n,this.stack.slice(0,r)),i===t&&(i=this.find(n,this.stack.slice(r),!0),i=i===t?i:i+r),i},direct:function(i){var r=this.closest(i.url),u=this.activeIndex;r!==t&&(this.activeIndex=r,this.previousIndex=u);r<u?(i.present||i.back||n.noop)(this.getActive(),"back"):r>u?(i.present||i.forward||n.noop)(this.getActive(),"forward"):r===t&&i.missing&&i.missing(this.getActive())}})}(n),function(n){var u=r.path,f=location.href;r.Navigator=function(t){this.history=t;this.ignoreInitialHashChange=!0;r.window.bind({"popstate.history":n.proxy(this.popstate,this),"hashchange.history":n.proxy(this.hashchange,this)})};n.extend(r.Navigator.prototype,{squash:function(r,f){var e,o,s=u.isPath(r)?u.stripHash(r):r;return o=u.squash(r),e=n.extend({hash:s,url:o},f),t.history.replaceState(e,e.title||i.title,o),e},hash:function(n,t){var i,e,f,r;return i=u.parseUrl(n),e=u.parseLocation(),e.pathname+e.search===i.pathname+i.search?f=i.hash?i.hash:i.pathname+i.search:u.isPath(n)?(r=u.parseUrl(t),f=r.pathname+r.search+(u.isPreservableHash(r.hash)?r.hash.replace("#",""):"")):f=n,f},go:function(f,e,o){var s,c,h,l;c=u.squash(f);h=this.hash(f,c);o&&h!==u.stripHash(u.parseLocation().hash)&&(this.preventNextHashChange=o);this.preventHashAssignPopState=!0;t.location.hash=h;this.preventHashAssignPopState=!1;s=n.extend({url:c,hash:h,title:i.title},e);!0&&(l=new n.Event("popstate"),l.originalEvent={type:"popstate",state:null},this.squash(f,s),o||(this.ignorePopState=!0,r.window.trigger(l)));this.history.add(s.url,s)},popstate:function(t){var i,r;if(this.preventHashAssignPopState){this.preventHashAssignPopState=!1;t.stopImmediatePropagation();return}if(this.ignorePopState){this.ignorePopState=!1;return}if(!t.originalEvent.state&&this.history.stack.length===1&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===f)){t.preventDefault();return}if(i=u.parseLocation().hash,!t.originalEvent.state&&i){r=this.squash(i);this.history.add(r.url,r);t.historyState=r;return}this.history.direct({url:(t.originalEvent.state||{}).url||i,present:function(i,r){t.historyState=n.extend({},i);t.historyState.direction=r}})}})}(n),function(){r.navigate=function(n,t,i){r.navigate.navigator.go(n,t,i)};r.navigate.history=new r.History;r.navigate.navigator=new r.Navigator(r.navigate.history);var n=r.path.parseLocation();r.navigate.history.add(n.href,{hash:n.hash})}(n),function(n,t){var r={animation:{},transition:{}},u=i.createElement("a"),f=["","webkit-","moz-","o-"];n.each(["animation","transition"],function(i,e){var o=i===0?e+"-name":e;n.each(f,function(i,f){if(u.style[n.camelCase(f+o)]!==t)return r[e].prefix=f,!1});r[e].duration=n.camelCase(r[e].prefix+e+"-duration");r[e].event=n.camelCase(r[e].prefix+e+"-end");r[e].prefix===""&&(r[e].event=r[e].event.toLowerCase())});n.support.cssTransitions=r.transition.prefix!==t;n.support.cssAnimations=r.animation.prefix!==t;n(u).remove();n.fn.animationComplete=function(u,f,e){var h,o,l=this,c=function(){clearTimeout(h);u.apply(this,arguments)},s=!f||f==="animation"?"animation":"transition";if(n.support.cssTransitions&&s==="transition"||n.support.cssAnimations&&s==="animation"){e===t&&(n(this).context!==i&&(o=parseFloat(n(this).css(r[s].duration))*3e3),(o===0||o===t||isNaN(o))&&(o=n.fn.animationComplete.defaultDuration));return n(this).one(r[s].event,c)}return setTimeout(n.proxy(u,this),0),n(this)};n.fn.animationComplete.defaultDuration=1e3}(n),function(n,t,i,u){function v(n){while(n&&typeof n.originalEvent!="undefined")n=n.originalEvent;return n}function bt(t,i){var r=t.type,e,o,c,f,s,l,a,h,y;if(t=n.Event(t),t.type=i,e=t.originalEvent,o=n.event.props,r.search(/^(mouse|click)/)>-1&&(o=pt),e)for(a=o.length,f;a;)f=o[--a],t[f]=e[f];if(r.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),r.search(/^touch/)!==-1&&(c=v(e),r=c.touches,s=c.changedTouches,l=r&&r.length?r[0]:s&&s.length?s[0]:u,l))for(h=0,y=it.length;h<y;h++)f=it[h],t[f]=l[f];return t}function w(t){for(var i={},r,u;t;){r=n.data(t,s);for(u in r)r[u]&&(i[u]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function kt(t,i){for(var r;t;){if(r=n.data(t,s),r&&(!i||r[i]))return t;t=t.parentNode}return null}function dt(){l=!1}function ft(){l=!0}function gt(){h=0;y.length=0;d=!1;ft()}function ni(){dt()}function tt(){et();c=setTimeout(function(){c=0;gt()},n.vmouse.resetTimerDuration)}function et(){c&&(clearTimeout(c),c=0)}function o(t,i,r){function e(){n(f).trigger(u)}var u,f=i.target;return!$app.dragMan._dragged&&(r&&r[t]||!r&&kt(f,t))&&(u=bt(i,t),t==="vclick"?$app.touch.invokeInTargetPage(e):e()),u}function ot(t){var u=n.data(t.target,b),i;if(r.skipMouseEnd||t.type==="mousedown"&&t.which===2&&n(t.target).closest(".app-scroller-vertical").length){r.skipMouseEnd=!1;return}d||h&&h===u||(i=o("v"+t.type,t),i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function st(t){var f=v(t).touches,r,i,u;f&&f.length===1&&(r=t.target,i=w(r),i.hasVirtualBinding&&(h=wt++,n.data(r,b,h),et(),ni(),e=!1,u=v(t).touches[0],rt=u.pageX,ut=u.pageY,o("vmouseover",t,i),o("vmousedown",t,i)))}function ht(n){l||(e||o("vmousecancel",n,w(n.target)),e=!0,tt())}function ct(t){if(!l){var i=v(t).touches[0],f=e,r=n.vmouse.moveDistanceThreshold,u=w(t.target);e=e||i&&(Math.abs(i.pageX-rt)>r||Math.abs(i.pageY-ut)>r);e&&!f&&o("vmousecancel",t,u);o("vmousemove",t,u);tt()}}function lt(n){if(!l){ft();var t=w(n.target),i,u;o("vmouseup",n,t);e||r.skipTouchEnd||(i=o("vclick",n,t),i&&i.isDefaultPrevented()&&(u=v(n).changedTouches[0],y.push({touchID:h,x:u.clientX,y:u.clientY}),d=!0));o("vmouseout",n,t);e=!1;r.skipTouchEnd=!1;tt()}}function at(t){var i=n.data(t,s),r;if(i)for(r in i)if(i[r])return!0;return!1}function vt(){}function ti(t){var i=t.substr(1);return{setup:function(){at(this)||n.data(this,s,{});var r=n.data(this,s);r[t]=!0;f[t]=(f[t]||0)+1;f[t]===1&&p.bind(i,ot);n(this).bind(i,vt);g&&(f.touchstart=(f.touchstart||0)+1,f.touchstart===1&&p.bind("touchstart",st).bind("touchend",lt).bind("touchmove",ct).bind("scroll",ht))},teardown:function(){--f[t];f[t]||p.unbind(i,ot);g&&(--f.touchstart,f.touchstart||p.unbind("touchstart",st).unbind("touchmove",ct).unbind("touchend",lt).unbind("scroll",ht));var r=n(this),u=n.data(this,s);u&&(u[t]=!1);r.unbind(i,vt);at(this)||r.removeData(s)}}}var s="virtualMouseBindings",b="virtualTouchID",k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),it="clientX clientY pageX pageY screenX screenY".split(" "),yt=n.event.mouseHooks?n.event.mouseHooks.props:[],pt=(n.event.props=n.event.props||[]).concat(yt),f={},c=0,rt=0,ut=0,e=!1,y=[],d=!1,l=!1,g="addEventListener"in i,p=n(i),wt=1,h=0,nt,a;for(n.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},a=0;a<k.length;a++)n.event.special[k[a]]=ti(k[a]);g&&i.addEventListener("click",function(t){var f=y.length,e=t.target,o,s,i,r,u,h;if(f)for(o=t.clientX,s=t.clientY,nt=n.vmouse.clickDistanceThreshold,i=e;i;){for(r=0;r<f;r++)if(u=y[r],h=0,i===e&&Math.abs(u.x-o)<nt&&Math.abs(u.y-s)<nt||n.data(i,b)===u.touchID){t.preventDefault();t.stopPropagation();return}i=i.parentNode}},!0)}(n,t,i),function(n){n.event.special.throttledresize={setup:function(){n(this).bind("resize",t)},teardown:function(){n(this).unbind("resize",t)}};var f=250,t=function(){r=(new Date).getTime();u=r-e;u>=f?(e=r,n(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(t,f-u))},e=0,i,r,u}(n),function(n,t){function v(){var n=f();n!==e&&(e=n,r.trigger(u))}var r=n(t),u="orientationchange",f,e,o,s,h={"0":!0,"180":!0},c,l,a;n.support.orientation&&(c=t.innerWidth||r.width(),l=t.innerHeight||r.height(),a=50,o=c>l&&c-l>a,s=h[t.orientation],(o&&s||!o&&!s)&&(h={"-90":!0,"90":!0}));n.event.special.orientationchange=n.extend({},n.event.special.orientationchange,{setup:function(){if(n.support.orientation&&!n.event.special.orientationchange.disabled)return!1;e=f();r.bind("throttledresize",v)},teardown:function(){if(n.support.orientation&&!n.event.special.orientationchange.disabled)return!1;r.unbind("throttledresize",v)},add:function(n){var t=n.handler;n.handler=function(n){return n.orientation=f(),t.apply(this,arguments)}}});n.event.special.orientationchange.orientation=f=function(){var u=!0,r=i.documentElement;return u=n.support.orientation?h[t.orientation]:r&&r.clientWidth/r.clientHeight<1.1,u?"portrait":"landscape"};n.fn[u]=function(n){return n?this.bind(u,n):this.trigger(u)};n.attrFn&&(n.attrFn[u]=!0)}(n,this),function(n){var i=n("head").children("base"),t={element:i.length?i:n("<base>",{href:r.path.documentBase.hrefNoHash}).prependTo(n("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(i){r.dynamicBaseEnabled&&n.support.dynamicBaseTag&&t.element.attr("href",r.path.makeUrlAbsolute(i,r.path.documentBase))},rewrite:function(i,u){var f=r.path.get(i);u.find(t.linkSelector).each(function(t,i){var o=n(i).is("[href]")?"href":n(i).is("[src]")?"src":"action",u=r.path.parseLocation(),e=n(i).attr(o);e=e.replace(u.protocol+u.doubleSlash+u.host+u.pathname,"");/^(\w+:|#|\/)/.test(e)||n(i).attr(o,f+e)})},reset:function(){t.element.attr("href",r.path.documentBase.hrefNoSearch)}};r.base=t}(n),function(n,t){r.widgets={};var i=n.widget;n.widget=function(n){return function(){var i=n.apply(this,arguments),u=i.prototype.widgetName;return i.initSelector=i.prototype.initSelector!==t?i.prototype.initSelector:":jqmData(role='"+u+"')",r.widgets[u]=i,i}}(n.widget);n.extend(n.widget,i);r.document.on("create",function(t){n(t.target).enhanceWithin()});n.widget("touch.page",{options:{theme:"a",domCache:!1,contentTheme:null,enhanced:!1},_createWidget:function(){n.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_create:function(){if(this._trigger("beforecreate")===!1)return!1;this.options.enhanced||this._enhance();this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"});this.element.enhanceWithin();r.getAttribute(this.element[0],"role")==="dialog"&&r.dialog&&this.element.dialog()},_enhance:function(){var u="data-"+r.ns,i=this;this.options.role&&this.element.attr("data-"+r.ns+"role",this.options.role);this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme);this.element.find("["+u+"role='content']").each(function(){var r=n(this),f=this.getAttribute(u+"theme")||t;i.options.contentTheme=f||i.options.contentTheme||i.options.dialog&&i.options.theme||i.element.jqmData("role")==="dialog"&&i.options.theme;r.addClass("ui-content");i.options.contentTheme&&r.addClass("ui-body-"+i.options.contentTheme);r.attr("role","main").addClass("ui-content")})},bindRemove:function(t){var i=this.element;!i.data("mobile-page").options.domCache&&i.is(":jqmData(external-page='true')")&&i.bind("pagehide.remove",t||function(t,i){if(!i.samePage){var r=n(this),u=new n.Event("pageremove");r.trigger(u);u.isDefaultPrevented()||r.removeWithDependents()}})},_setOptions:function(n){n.theme!==t&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+n.theme);n.contentTheme!==t&&this.element.find("[data-"+r.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+n.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":touch-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(n){this.element.parent().pagecontainer({theme:n||this.options.theme})}})}(n),function(n,u){n.widget("touch.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate");this.setLastScrollEnabled=!0;this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"});this._on(this.window,{navigate:"_filterNavigateEvents"});this._on({pagechange:"_afterContentChange"});this.window.one("navigate",n.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(n){n.theme!==u&&n.theme!=="none"?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+n.theme):n.theme!==u&&this.element.removeClass("ui-overlay-"+this.options.theme);this._super(n)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0;this._off(this.window,"scrollstop");this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var t=this._getActiveHistory(),n,i,r;t&&(n=this._getScroll(),i=this._getMinScroll(),r=this._getDefaultScroll(),t.lastScroll=n<i?r:n)}},_delayedRecordScroll:function(){setTimeout(n.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return r.minScrollBack},_getDefaultScroll:function(){return r.defaultHomeScroll},_filterNavigateEvents:function(n,t){var i;n.originalEvent&&n.originalEvent.isDefaultPrevented()||(i=n.originalEvent.type.indexOf("hashchange")>-1?t.state.hash:t.state.url,i||(i=this._getHash()),i&&i!=="#"&&i.indexOf("#"+r.path.uiStateKey)!==0||(i=location.href),this._handleNavigate(i,t.state))},_getHash:function(){return r.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return r.firstPage},_getHistory:function(){return r.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return r.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(n){if(r.hashListeningEnabled)t.history.go(n);else{var i=r.navigate.history.activeIndex,u=i+parseInt(n,10),f=r.navigate.history.stack[u].url,e=n>=1?"forward":"back";r.navigate.history.activeIndex=u;r.navigate.history.previousIndex=i;this.change(f,{direction:e,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(t){var i;return n.type(t)==="string"&&(t=r.path.stripHash(t)),t&&(i=this._getHistory(),t=r.path.isPath(t)?t:r.path.makeUrlAbsolute("#"+t,this._getDocumentBase())),t||this._getInitialContent()},_transitionFromHistory:function(n,t){var i=this._getHistory(),r=n==="back"?i.getLast():i.getActive();return r&&r.transition||t},_handleDialog:function(t,i){var r,u,f=this.getActivePage();return f&&!f.data("mobile-dialog")?(i.direction==="back"?this.back():this.forward(),!1):(r=i.pageUrl,u=this._getActiveHistory(),n.extend(t,{role:u.role,transition:this._transitionFromHistory(i.direction,t.transition),reverse:i.direction==="back"}),r)},_handleNavigate:function(t,i){var u=r.path.stripHash(t),e=this._getHistory(),o=e.stack.length===0?"none":this._transitionFromHistory(i.direction),f={changeHash:!1,fromHashChange:!0,reverse:i.direction==="back"};(n.extend(f,i,{transition:o}),e.activeIndex>0&&u.indexOf(r.dialogHashKey)>-1&&(u=this._handleDialog(f,i),u===!1))||this._changeContent(this._handleDestination(u),f)},_changeContent:function(n,t){r.changePage(n,t)},_getBase:function(){return r.base},_getNs:function(){return r.ns},_enhance:function(n,t){return n.page({role:t})},_include:function(n,t){n.appendTo(this.element);this._enhance(n,t.role);n.page("bindRemove")},_find:function(t){var e=this._createFileUrl(t),i=this._createDataUrl(t),u,f=this._getInitialContent();return u=this.element.children("[data-"+this._getNs()+"url='"+r.path.hashToSelector(i)+"']"),u.length===0&&i&&!r.path.isPath(i)&&(u=this.element.children(r.path.hashToSelector("#"+i)).attr("data-"+this._getNs()+"url",i).jqmData("url",i)),u.length===0&&r.path.isFirstPageUrl(e)&&f&&f.parent().length&&(u=n(f)),u},_parse:function(t,i){var r,u=n("<div><\/div>");return u.get(0).innerHTML=t,r=u.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),r.length||(r=n("<div data-"+this._getNs()+"role='page'>"+(t.split(/<\/?body[^>]*>/gmi)[1]||"")+"<\/div>")),r.attr("data-"+this._getNs()+"url",this._createDataUrl(i)).attr("data-"+this._getNs()+"external-page",!0),r},_createDataUrl:function(n){return r.path.convertUrlToDataUrl(n)},_createFileUrl:function(n){return r.path.getFilePath(n)},_triggerWithDeprecated:function(t,i,r){var u=n.Event("page"+t),f=n.Event(this.widgetName+t);return(r||this.element).trigger(u,i),this._trigger(t,f,i),{deprecatedEvent:u,event:f}},_loadDefaults:{data:u,role:u,showLoadMsg:!1,loadMsgDelay:50},load:function(t,i){var e=i&&i.deferred||n.Deferred(),c=i&&i.reload===u&&i.reloadPage!==u?{reload:i.reloadPage}:{},o=n.extend({},this._loadDefaults,i,c),s=null,f=r.path.makeUrlAbsolute(t,this._findBaseWithDefault()),h,l;return(h=this._createFileUrl(f),l=this._createDataUrl(f),s=this._find(f),s.length===0&&r.path.isEmbeddedPage(h)&&!r.path.isFirstPageUrl(h))?(e.reject(f,o),e.promise()):(this._getBase().reset(),this._enhance(s,o.role),e.resolve(f,o,s),o.prefetch||this._getBase().set(t),e.promise())},_getTransitionHandler:function(n){return n=r._maybeDegradeTransition(n),r.transitionHandlers[n]||r.defaultTransitionHandler},_triggerCssTransitionEvents:function(t,i,r){var u=!1;r=r||"";i&&(t[0]===i[0]&&(u=!0),this._triggerWithDeprecated(r+"hide",{nextPage:t,toPage:t,prevPage:i,samePage:u},i));this._triggerWithDeprecated(r+"show",{prevPage:i||n(""),toPage:t},t)},_cssTransition:function(t,i,r){var f=r.transition,s=r.reverse,e=r.deferred,o,u;this._triggerCssTransitionEvents(t,i,"before");o=this._getTransitionHandler(f);u=new o(f,s,t,i).transition();u.done(n.proxy(function(){this._triggerCssTransitionEvents(t,i)},this));u.done(function(){e.resolve.apply(e,arguments)})},_releaseTransitionLock:function(){f=!1;e.length>0&&r.changePage.apply(null,e.pop())},_removeActiveLinkClass:function(n){r.removeActiveLinkClass(n)},_loadUrl:function(t,i,r){r.target=t;r.deferred=n.Deferred();this.load(t,r);r.deferred.done(n.proxy(function(n,t,r){f=!1;t.absUrl=i.absUrl;this.transition(r,i,t)},this));r.deferred.fail(n.proxy(function(){this._removeActiveLinkClass(!0);this._releaseTransitionLock();this._triggerWithDeprecated("changefailed",i)},this))},_triggerPageBeforeChange:function(t,i,u){var f;return(i.prevPage=this.activePage,n.extend(i,{toPage:t,options:u}),i.absUrl=n.type(t)==="string"?r.path.makeUrlAbsolute(t,this._findBaseWithDefault()):u.absUrl,f=this._triggerWithDeprecated("beforechange",i),f.event.isDefaultPrevented()||f.deprecatedEvent.isDefaultPrevented())?!1:!0},change:function(t,i){if(f){e.unshift(arguments);return}var u=n.extend({},r.changePage.defaults,i),o={};(u.fromPage=u.fromPage||this.activePage,this._triggerPageBeforeChange(t,o,u))&&(t=o.toPage,n.type(t)==="string"?(f=!0,this._loadUrl(t,o,u)):this.transition(t,o,u))},transition:function(t,o,s){var k,h,a,v,d,l,c,g,y,p,w,b;if(f){e.unshift([t,s]);return}this._triggerPageBeforeChange(t,o,s)&&((o.prevPage=s.fromPage,b=this._triggerWithDeprecated("beforetransition",o),b.deprecatedEvent.isDefaultPrevented()||b.event.isDefaultPrevented())||(f=!0,t[0]!==r.firstPage[0]||s.dataUrl||(s.dataUrl=r.path.documentUrl.hrefNoHash),k=s.fromPage,h=s.dataUrl&&r.path.convertUrlToDataUrl(s.dataUrl)||t.jqmData("url"),a=h,fileUrl=r.path.getFilePath(h),v=r.navigate.history.getActive(),d=r.navigate.history.activeIndex===0,l=0,c=i.title,t.page({role:s.role}),s.fromHashChange&&(l=s.direction==="back"?-1:1),g=!1,y=v?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():c,!y||c!==i.title||(c=y),t.jqmData("title")||t.jqmData("title",c),s.transition=s.transition||(l&&!d?v.transition:u),!l&&g&&(r.navigate.history.getActive().pageUrl=a),h&&!s.fromHashChange&&(!r.path.isPath(h)&&h.indexOf("#")<0&&(h="#"+h),p={transition:s.transition,title:c,pageUrl:a,role:s.role},s.changeHash!==!1&&r.hashListeningEnabled?r.navigate(this.window[0].encodeURI(h),p,!0):t[0]!==r.firstPage[0]&&r.navigate.history.add(h,p)),i.title=c,r.activePage=t,this.activePage=t,s.reverse=s.reverse||l<0,w=n.Deferred(),this._cssTransition(t,k,{transition:s.transition,reverse:s.reverse,deferred:w}),w.done(n.proxy(function(){r.removeActiveLinkClass();s.duplicateCachedPage&&s.duplicateCachedPage.remove();this._releaseTransitionLock();this._triggerWithDeprecated("transition",o);this._triggerWithDeprecated("change",o)},this))))},_findBaseWithDefault:function(){var n=this.activePage&&r.getClosestBaseUrl(this.activePage);return n||r.path.documentBase.hrefNoHash}});var e=[],f=!1}(n),function(n,i){r.loadPage=function(t,i){var u;return i=i||{},u=i.pageContainer||r.pageContainer,i.deferred=n.Deferred(),u.pagecontainer("load",t,i),i.deferred.promise()};r.back=function(){var n=t.navigator;r.pageContainer.pagecontainer("back")};r._maybeDegradeTransition=r._maybeDegradeTransition||function(n){return n};r.changePage=function(n,t){r.pageContainer.pagecontainer("change",n,t)};r.changePage.defaults={transition:i,reverse:!1,changeHash:!0,fromHashChange:!1,role:i,duplicateCachedPage:i,pageContainer:i,showLoadMsg:!0,dataUrl:i,fromPage:i,allowSamePageTransition:!1}}(n),function(n){r.Transition=function(){this.init.apply(this,arguments)};n.extend(r.Transition.prototype,{toPreClass:"",init:function(t,i,r,u){n.extend(this,{name:t,reverse:i,$to:r,$from:u,deferred:new n.Deferred})},cleanFrom:function(){this.$from.removeClass(r.activePageClass)},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(n,t,i,r){this.beforeDoneOut();this.startIn(n,t,i,r)},hideIn:function(n){n.call(this)},startIn:function(){this.hideIn(function(){this.$to.addClass(r.activePageClass)});this.doneIn()},startOut:function(){},toggleViewportClass:function(){},transition:function(){var n="none",t="",i=$app.touch.screen().height;return this.$from&&!n?this.startOut(i,t,n):this.doneOut(i,t,n,!0),this.deferred.promise()}})}(n,this),function(n){r.SerialTransition=function(){this.init.apply(this,arguments)};n.extend(r.SerialTransition.prototype,r.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,i,r){this.$from.animationComplete(n.proxy(function(){this.doneOut(t,i,r)},this))}})}(n),function(n){r.ConcurrentTransition=function(){this.init.apply(this,arguments)};n.extend(r.ConcurrentTransition.prototype,r.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(n,t,i){this.doneOut(n,t,i)}})}(n),function(n){var t=function(){return r.getScreenHeight()*3};r.transitionHandlers={sequential:r.SerialTransition,simultaneous:r.ConcurrentTransition};r.defaultTransitionHandler=r.transitionHandlers.sequential;r.transitionFallbacks={};r._maybeDegradeTransition=function(t){return t&&!n.support.cssTransform3d&&r.transitionFallbacks[t]&&(t=r.transitionFallbacks[t]),t};r.getMaxScrollForTransition=r.getMaxScrollForTransition||t}(n),function(n,t,i){n.widget("touch.page",r.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super()},_enhance:function(){this._super()},_setOptions:function(n){var t=this.options;n.corners!==i&&this._inner.toggleClass("ui-corner-all",!!n.corners);n.overlayTheme!==i&&r.activePage[0]===this.element[0]&&(t.overlayTheme=n.overlayTheme,this._handlePageBeforeShow());this._super(n)},_handlePageBeforeShow:function(){this._super()}})}(n,this),function(n){function t(t){for(var f=t.length,u=[],r=0;r<f;r++)t[r].className.match(i)||u.push(t[r]);return n(u)}var i=/\bui-screen-hidden\b/;r.behaviors.addFirstLastClasses={_getVisibles:function(n,i){var r;return i?r=t(n):(r=n.filter(":visible"),r.length===0&&(r=t(n))),r},_addFirstLastClasses:function(n,t,i){n.removeClass("ui-first-child ui-last-child");t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child");i||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(n){n.removeClass("ui-first-child ui-last-child")}}}(n),function(n){var t=r.getAttribute;n.widget("touch.listview",n.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var n=this,t="";t+=n.options.inset?" ui-listview-inset":"";!n.options.inset||(t+=n.options.corners?" ui-corner-all":"",t+=n.options.shadow?" ui-shadow":"");n.element.addClass(" ui-listview"+t);n.refresh(!0)},_findFirstElementByTagName:function(n,t,i,r){var u={};for(u[i]=u[r]=!0;n;){if(u[n.nodeName])return n;n=n[t]}return null},_addThumbClasses:function(t){for(var r,u=t.length,i=0;i<u;i++)r=n(this._findFirstElementByTagName(t[i].firstChild,"nextSibling","img","IMG")),r.length&&n(this._findFirstElementByTagName(r[0].parentNode,"parentNode","li","LI")).addClass(r.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(t,i,r){var f=[],u={};for(u[i]=u[r]=!0,t=t.firstChild;t;)u[t.nodeName]&&f.push(t),t=t.nextSibling;return n(f)},_beforeListviewRefresh:n.noop,_afterListviewRefresh:n.noop,refresh:function(i){var a,v,nt,r,f,h,y,p,u,w,tt,it,b,c,k,rt,ut,ft,d,e,o=this.options,s=this.element,et=!!n.nodeName(s[0],"ol"),g=s.attr("start"),l={},ot=s.find(".ui-li-count"),st=t(s[0],"counttheme")||this.options.countTheme,ht=st?"ui-body-"+st:"ui-body-inherit";for(o.theme&&s.addClass("ui-group-theme-"+o.theme),et&&(g||g===0)&&(tt=parseInt(g,10)-1,s.css("counter-reset","listnumbering "+tt)),this._beforeListviewRefresh(),e=this._getChildrenByTagName(s[0],"li","LI"),v=0,nt=e.length;v<nt;v++)r=e.eq(v),f="",(i||r[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(u=r.find(".ui-btn"),u.length||(u=this._getChildrenByTagName(r[0],"a","A")),w=t(r[0],"role")==="list-divider",b=r.attr("value"),h=t(r[0],"theme"),u.length&&u[0].className.search(/\bui-btn\b/)<0&&!w?(y=t(r[0],"icon"),p=y===!1?!1:y||o.icon,u.removeClass("ui-link"),a="ui-btn",h&&(a+=" ui-btn-"+h),u.length>1?(f="ui-li-has-alt",c=u.last(),k=t(c[0],"theme")||o.splitTheme||t(r[0],"theme",!0),rt=k?" ui-btn-"+k:"",ut=t(c[0],"icon")||t(r[0],"icon")||o.splitIcon,ft="ui-btn ui-btn-icon-notext ui-icon-"+ut+rt,c.attr("title",n.trim(c.getEncodedText())).addClass(ft).empty(),u=u.first()):p&&(a+=" ui-btn-icon-right ui-icon-"+p),u.addClass(a)):w?(d=t(r[0],"theme")||o.dividerTheme||o.theme,f="ui-li-divider ui-bar-"+(d?d:"inherit"),r.attr("role","heading")):u.length<=0&&(f="ui-li-static ui-body-"+(h?h:"inherit")),et&&b&&(it=parseInt(b,10)-1,r.css("counter-reset","listnumbering "+it))),l[f]||(l[f]=[]),l[f].push(r[0]);for(f in l)n(l[f]).addClass(f);ot.each(function(){n(this).closest("li").addClass("ui-li-has-count")});ht&&ot.not("[class*='ui-body-']").addClass(ht);this._addThumbClasses(e);this._addThumbClasses(e.find(".ui-btn"));this._afterListviewRefresh();this._addFirstLastClasses(e,this._getVisibles(e,i),i)}},r.behaviors.addFirstLastClasses))}(n),function(n){function t(t){var i=n.trim(t.text())||null;return i?i.slice(0,1).toUpperCase():null}n.widget("touch.listview",r.listview,{options:{autodividers:!1,autodividersSelector:t},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var u,o,f,t,s=null,h=this.element,e;for(h.children("li:jqmData(role='list-divider')").remove(),o=h.children("li"),u=0;u<o.length;u++)f=o[u],t=this.options.autodividersSelector(n(f)),t&&s!==t&&(e=i.createElement("li"),e.appendChild(i.createTextNode(t)),e.setAttribute("data-"+r.ns+"role","list-divider"),f.parentNode.insertBefore(e,f)),s=t}})}(n),function(n){var t=/(^|\s)ui-li-divider($|\s)/,i=/(^|\s)ui-screen-hidden($|\s)/;n.widget("touch.listview",r.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var u,r,n,f=!0;if(this._superApply(arguments),this.options.hideDividers)for(u=this._getChildrenByTagName(this.element[0],"li","LI"),r=u.length-1;r>-1;r--)n=u[r],n.className.match(t)?(f&&(n.className=n.className+" ui-screen-hidden"),f=!0):n.className.match(i)||(f=!1)}})}(n),function(n){var t=n("meta[name=viewport]"),i=t.attr("content"),f=i+",maximum-scale=1, user-scalable=no",e=i+",maximum-scale=10, user-scalable=yes",u=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);r.zoom=n.extend({},{enabled:!u,locked:!1,disable:function(n){u||r.zoom.locked||(t.attr("content",f),r.zoom.enabled=!1,r.zoom.locked=n||!1)},enable:function(n){u||r.zoom.locked&&n!==!0||(t.attr("content",e),r.zoom.enabled=!0,r.zoom.locked=!1)},restore:function(){u||(t.attr("content",i),r.zoom.enabled=!0)}})}(n),function(n,t){n.widget("touch.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:!0,wrapperClass:"",enhanced:!1},_create:function(){var t=this.options,u=this.element.is("[type='search'], :jqmData(type='search')"),f=this.element[0].tagName==="TEXTAREA",i=this.element.is("[data-"+(r.ns||"")+"type='range']"),e=(this.element.is("input")||this.element.is("[data-"+(r.ns||"")+"type='search']"))&&!i;this.element.prop("disabled")&&(t.disabled=!0);n.extend(this,{classes:this._classesFromOptions(),isSearch:u,isTextarea:f,isRange:i,inputNeedsWrap:e});this._autoCorrect();t.enhanced||this._enhance();this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var n=[];this.isTextarea&&n.push("ui-input-text");(this.isTextarea||this.isRange)&&n.push("ui-shadow-inset");this.inputNeedsWrap?this.element.wrap(this._wrap()):n=n.concat(this.classes);this.element.addClass(n.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var n=this.options,t=[];return t.push("ui-body-"+(n.theme===null?"inherit":n.theme)),n.corners&&t.push("ui-corner-all"),n.mini&&t.push("ui-mini"),n.disabled&&t.push("ui-state-disabled"),n.wrapperClass&&t.push(n.wrapperClass),t},_wrap:function(){return n("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'><\/div>")},_autoCorrect:function(){typeof this.element[0].autocorrect=="undefined"||n.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(r.focusClass);this.options.preventFocusZoom&&r.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&r.zoom.disable(!0);this.widget().addClass(r.focusClass)},_setOptions:function(n){var i=this.widget();this._super(n);n.disabled===t&&n.mini===t&&n.corners===t&&n.theme===t&&n.wrapperClass===t||(i.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),i.addClass(this.classes.join(" ")));n.disabled!==t&&this.element.prop("disabled",!!n.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(n),function(n,t){function u(n,t,i,r){var u=r;return n<t?i+(n-t)/2:Math.min(Math.max(i,r-t/2),i+n-t)}function i(){var n=$app.touch.screen();return{x:n.left,y:n.top,cx:n.width,cy:n.height}}n.widget("touch.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!r.browser.oldIE},_handleDocumentVmousedown:function(t){this._isOpen&&n.contains(this._ui.container[0],t.target)&&this._ignoreResizeEvents()},_create:function(){var t=this.element,u=t.attr("id"),i=this.options;i.history=i.history&&r.ajaxEnabled&&r.hashListeningEnabled;this._on(this.document,{vmousedown:"_handleDocumentVmousedown"});n.extend(this,{_scrollTop:0,_page:t.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1});this._page.length===0&&(this._page=n("body"));i.enhanced?this._ui={container:t.parent(),screen:t.parent().prev(),placeholder:n(this.document[0].getElementById(u+"-placeholder"))}:(this._ui=this._enhance(t,u),this._applyTransition(i.transition));this._setTolerance(i.tolerance)._ui.focusElement=this._ui.container;this._on(this._ui.screen,{vclick:"_eatEventAndClose"});this._on(this.window,{orientationchange:n.proxy(this,"_handleWindowOrientationchange"),resize:n.proxy(this,"_handleWindowResize")});this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(t,i){var u=this.options,e=u.wrapperClass,r={screen:n("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",u.overlayTheme)+"'><\/div>"),placeholder:n("<div style='display: none;'><!-- placeholder --><\/div>"),container:n("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(e?" "+e:"")+"'><\/div>")},f=this.document[0].createDocumentFragment();return f.appendChild(r.screen[0]),f.appendChild(r.container[0]),i&&(r.screen.attr("id",i+"-screen"),r.container.attr("id",i+"-popup"),r.placeholder.attr("id",i+"-placeholder").html("<!-- placeholder for "+i+" -->")),this._page[0].appendChild(f),r.placeholder.insertAfter(t),t.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",u.theme)+" "+(u.shadow?"ui-overlay-shadow ":"")+(u.corners?"ui-corner-all ":"")).appendTo(r.container),r},_eatEventAndClose:function(n){return n.preventDefault(),n.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var n=this._ui.screen,t=this._ui.container.outerHeight(!0),i=n.removeAttr("style").height(),r=this.document.height()-1;i<r?n.height(r):t>i&&n.height(t)},_expectResizeEvent:function(){var n=i();if(this._resizeData){if(n.x===this._resizeData.windowCoordinates.x&&n.y===this._resizeData.windowCoordinates.y&&n.cx===this._resizeData.windowCoordinates.cx&&n.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:n},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo);this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&this._ignoreResizeTo===0&&(this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")&&this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&this._ignoreResizeTo===0&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(n){var t=n.target,i=this._ui;this._isOpen&&this._ignoreResizeEvents()},_themeClassFromOption:function(n,t){return t?t==="none"?"":n+t:n+"inherit"},_applyTransition:function(n){return n&&(this._ui.container.removeClass(this._fallbackTransition),n!=="none"&&(this._fallbackTransition=r._maybeDegradeTransition(n),this._fallbackTransition==="none"&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(n){var i=this.options,r=this.element,u=this._ui.screen;return n.wrapperClass!==t&&this._ui.container.removeClass(i.wrapperClass).addClass(n.wrapperClass),n.theme!==t&&r.removeClass(this._themeClassFromOption("ui-body-",i.theme)).addClass(this._themeClassFromOption("ui-body-",n.theme)),n.overlayTheme!==t&&(u.removeClass(this._themeClassFromOption("ui-overlay-",i.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",n.overlayTheme)),this._isOpen&&u.addClass("in")),n.shadow!==t&&r.toggleClass("ui-overlay-shadow",n.shadow),n.corners!==t&&r.toggleClass("ui-corner-all",n.corners),n.transition!==t&&(this._currentTransition||this._applyTransition(n.transition)),n.tolerance!==t&&this._setTolerance(n.tolerance),n.disabled!==t&&n.disabled&&this.close(),this._super(n)},_setTolerance:function(i){var u={t:30,r:15,b:30,l:15},r;if(i!==t){r=String(i).split(",");n.each(r,function(n,t){r[n]=parseInt(t,10)});switch(r.length){case 1:isNaN(r[0])||(u.t=u.r=u.b=u.l=r[0]);break;case 2:isNaN(r[0])||(u.t=u.b=r[0]);isNaN(r[1])||(u.l=u.r=r[1]);break;case 4:isNaN(r[0])||(u.t=r[0]);isNaN(r[1])||(u.r=r[1]);isNaN(r[2])||(u.b=r[2]);isNaN(r[3])||(u.l=r[3])}}return this._tolerance=u,this},_clampPopupWidth:function(n){var r,t=i(),u={x:this._tolerance.l+$app.touch.screen().left,y:t.y+this._tolerance.t,cx:t.cx-this._tolerance.l-this._tolerance.r,cy:t.cy-this._tolerance.t-this._tolerance.b};return n||this._ui.container.css("max-width",u.cx),r={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:u,menuSize:r}},_calculateFinalLocation:function(n,t){var i,r=t.rc,f=t.menuSize,e=$app.touch.screen();return i=this.options.arrow===!1?{left:Math.min(n.x,e.left+e.width-this.element.outerWidth()-1),top:n.y}:{left:u(r.cx,f.cx,r.x,n.x),top:u(r.cy,f.cy,r.y,n.y)},i.top=Math.max(0,i.top),i.top-=Math.min(i.top,Math.max(0,i.top+f.cy-this.document.height())),i},_placementCoords:function(n){return this._calculateFinalLocation(n,this._clampPopupWidth())},_createPrerequisites:function(t,i,r){var u,f=this;u={screen:n.Deferred(),container:n.Deferred()};u.screen.then(function(){u===f._prerequisites&&t()});u.container.then(function(){u===f._prerequisites&&i()});n.when(u.screen,u.container).done(function(){u===f._prerequisites&&(f._prerequisites=null,r())});f._prerequisites=u},_animate:function(n){this._ui.screen.removeClass(n.classToRemove).addClass(n.screenClassToAdd);n.prerequisites.screen.resolve();n.transition&&n.transition!=="none"?(n.applyTransition&&this._applyTransition(n.transition),this._fallbackTransition&&this._ui.container.addClass(n.containerClassToAdd).removeClass(n.classToRemove)):this._ui.container.removeClass(n.classToRemove);n.prerequisites.container.resolve()},_desiredCoords:function(t){var s,r=null,u=i(),f=t.x,e=t.y,o=t.positionTo;if(o&&o!=="origin"&&o!=="absolute")if(o==="window")f=u.cx/2+u.x,e=u.cy/2+u.y;else{try{r=n(o)}catch(h){r=null}r&&(r.filter(":visible"),r.length===0&&(r=null))}return r&&(s=r.offset(),f=s.left+r.outerWidth()/2,e=s.top+r.outerHeight()/2),(n.type(f)!=="number"||isNaN(f))&&(f=u.cx/2+u.x),(n.type(e)!=="number"||isNaN(e))&&(e=u.cy/2+u.y),{x:f,y:e}},_reposition:function(n){n={x:n.x,y:n.y,positionTo:n.positionTo};this._trigger("beforeposition",t,n);this._ui.container.offset(this._placementCoords(this._desiredCoords(n)))},reposition:function(n){this._isOpen&&this._reposition(n)},_openPrerequisitesComplete:function(){var n=this.element.attr("id"),t=this._ui.container.find("a").first();this._ui.container.addClass("ui-popup-active");this._isOpen=!0;this._resizeScreen();t.length>0&&(this._ui.focusElement=t);this._ignoreResizeEvents();n&&this.document.find("[aria-haspopup='true'][aria-owns='"+n+"']").attr("aria-expanded",!0);this._trigger("afteropen")},_open:function(t){var i=n.extend({},this.options,t);this._createPrerequisites(n.noop,n.noop,n.proxy(this,"_openPrerequisitesComplete"));this._currentTransition=i.transition;this._applyTransition(i.transition);this._ui.screen.removeClass("ui-screen-hidden");this._ui.container.removeClass("ui-popup-truncate");this._reposition(i);this._ui.container.removeClass("ui-popup-hidden");this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var i=this._ui.container,n=this.element.attr("id");r.popup.active=t;n&&this.document.find("[aria-haspopup='true'][aria-owns='"+n+"']").attr("aria-expanded",!1);this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active");this._page.removeClass("ui-popup-open");this._isOpen=!1;this._createPrerequisites(n.proxy(this,"_closePrerequisiteScreen"),n.proxy(this,"_closePrerequisiteContainer"),n.proxy(this,"_closePrerequisitesDone"));this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:r.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){if(r.popup.active===this){this.element.one("popupafterclose",n.proxy(this,"_unenhance"));this.close()}else this._unenhance();return this},_closePopup:function(n,t){var i,u,e=this.options,f=!1;n&&n.isDefaultPrevented()||r.popup.active!==this||(n&&n.type==="pagebeforechange"&&t&&(i=typeof t.toPage=="string"?t.toPage:t.toPage.jqmData("url"),i=r.path.parseUrl(i),u=i.pathname+i.search+i.hash,this._myUrl!==r.path.makeUrlAbsolute(u)?f=!0:n.preventDefault()),this.window.off(e.closeEvents),this._close(f))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,n.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(n){var t,i,f,e,s,o,u=this,h=this.options;if(u._page.focus(),r.popup.active||h.disabled)return this;if((r.popup.active=this,!h.history)||(o=r.navigate.history,i=r.dialogHashKey,f=r.activePage,e=f?f.hasClass("ui-dialog"):!1,this._myUrl=t=o.getActive().url,s=t.indexOf(i)>-1&&!e&&o.activeIndex>0,s))return u._open(n),u._bindContainerClose(),this;t=t.indexOf(i)!==-1||e?r.path.parseLocation().hash+i:t+(t.indexOf("#")>-1?i:"#"+i);this.window.one("beforenavigate",function(t){t.isSimulated=!0;t.preventDefault();u._open(n);u._bindContainerClose()});return this.urlAltered=!0,r.navigate(t,{role:"dialog"}),this},close:function(){return r.popup.active!==this?this:(this.options.history&&this.urlAltered?(r.back(),this.urlAltered=!1):this._closePopup(),this)}})}(n),function(n,t){function e(n,t){var i=t?t:[];return i.push("ui-btn"),n.theme&&i.push("ui-btn-"+n.theme),n.icon&&(i=i.concat(["ui-icon-"+n.icon,"ui-btn-icon-"+n.iconpos])),n.inline&&i.push("ui-btn-inline"),n.shadow&&i.push("ui-shadow"),n.corners&&i.push("ui-corner-all"),n.mini&&i.push("ui-mini"),i}function o(n){var r,e,u,o=!1,s=!0,f={icon:"",inline:!1,shadow:!1,corners:!1,mini:!1},h=[];for(n=n.split(" "),r=0;r<n.length;r++)u=!0,e=i[n[r]],e!==t?(u=!1,f[e]=!0):n[r].indexOf("ui-btn-icon-")===0?(u=!1,s=!1,f.iconpos=n[r].substring(12)):n[r].indexOf("ui-icon-")===0?(u=!1,f.icon=n[r].substring(8)):n[r].indexOf("ui-btn-")===0&&n[r].length===8?(u=!1,f.theme=n[r].substring(7)):n[r]==="ui-btn"&&(u=!1,o=!0),u&&h.push(n[r]);return s&&(f.icon=""),{options:f,unknownClasses:h,alreadyEnhanced:o}}function s(n){return"-"+n.toLowerCase()}var i={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-mini":"mini"},u=function(){var n=r.getAttribute.apply(this,arguments);return n==null?t:n},f=/[A-Z]/g;n.fn.buttonMarkup=function(i,r){for(var c,h,a,v,y=n.fn.buttonMarkup.defaults,l=0;l<this.length;l++){if(h=this[l],c=r?{alreadyEnhanced:!1,unknownClasses:[]}:o(h.className),a=n.extend({},c.alreadyEnhanced?c.options:{},i),!c.alreadyEnhanced)for(v in y)a[v]===t&&(a[v]=u(h,v.replace(f,s)));h.className=e(n.extend({},y,a),c.unknownClasses).join(" ");h.tagName.toLowerCase()!=="button"&&h.setAttribute("role","button")}return this};n.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,mini:!1};n.extend(n.fn.buttonMarkup,{initSelector:"a:jqmData(role='button')"})}(n),function(n,t){function u(){var t=i.clone(),r=t.eq(0),n=t.eq(1),u=n.children();return{arEls:n.add(r),gd:r,ct:n,ar:u}}var i=n("<div class='ui-popup-arrow-guide'><\/div><div class='ui-popup-arrow-container'><div class='ui-popup-arrow'><\/div><\/div>");n.widget("touch.popup",r.popup,{options:{arrow:""},_create:function(){var n,t=this._super();return this.options.arrow&&(this._ui.arrow=n=this._addArrow()),t},_addArrow:function(){var n=u();return n.arEls.hide().appendTo(this.element),n},_unenhance:function(){var n=this._ui.arrow;return n&&n.arEls.remove(),this._super()},_tryAnArrow:function(n,t,i,r,u){var f,h,o,s={},e={};return r.arFull[n.dimKey]>r.guideDims[n.dimKey]?u:(s[n.fst]=i[n.fst]+(r.arHalf[n.oDimKey]+r.menuHalf[n.oDimKey])*n.offsetFactor-r.contentBox[n.fst]+(r.clampInfo.menuSize[n.oDimKey]-r.contentBox[n.oDimKey])*n.arrowOffsetFactor,s[n.snd]=i[n.snd],f=r.result||this._calculateFinalLocation(s,r.clampInfo),h={x:f.left,y:f.top},e[n.fst]=h[n.fst]+r.contentBox[n.fst]+n.tipOffset,e[n.snd]=Math.max(f[n.prop]+r.guideOffset[n.prop]+r.arHalf[n.dimKey],Math.min(f[n.prop]+r.guideOffset[n.prop]+r.guideDims[n.dimKey]-r.arHalf[n.dimKey],i[n.snd])),o=Math.round(Math.abs(i.x-e.x)+Math.abs(i.y-e.y)),(!u||o<u.diff)&&(e[n.snd]-=r.arHalf[n.dimKey]+f[n.prop]+r.contentBox[n.snd],u={dir:t,diff:o,result:f,posProp:n.prop,posVal:e[n.snd]}),u)},_getPlacementState:function(n){var r,u,i=this._ui.arrow,t={clampInfo:this._clampPopupWidth(!n),arFull:{cx:i.ct.width(),cy:i.ct.height()},guideDims:{cx:i.gd.width(),cy:i.gd.height()},guideOffset:i.gd.offset()};return r=this.element.offset(),i.gd.css({left:0,top:0,right:0,bottom:0}),u=i.gd.offset(),t.contentBox={x:u.left-r.left,y:u.top-r.top,cx:i.gd.width(),cy:i.gd.height()},i.gd.removeAttr("style"),t.guideOffset={left:t.guideOffset.left-r.left,top:t.guideOffset.top-r.top},t.arHalf={cx:t.arFull.cx/2,cy:t.arFull.cy/2},t.menuHalf={cx:t.clampInfo.menuSize.cx/2,cy:t.clampInfo.menuSize.cy/2},t},_placementCoords:function(t){var i,r,f,e,o,s=this.options.arrow,u=this._ui.arrow;return u?(u.arEls.show(),o={},i=this._getPlacementState(!0),f={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-i.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:i.arHalf.cx+i.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:i.arHalf.cy+i.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-i.arHalf.cy,arrowOffsetFactor:0}},n.each((s===!0?"l,t,r,b":s).split(","),n.proxy(function(n,u){r=this._tryAnArrow(f[u],u,t,i,r)},this)),!r)?(u.arEls.hide(),this._super(t)):(u.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+r.dir).removeAttr("style").css(r.posProp,r.posVal).show(),e=this.element.offset(),o[f[r.dir].fst]=u.ct.offset(),o[f[r.dir].snd]={left:e.left+i.contentBox.x,top:e.top+i.contentBox.y},r.result):this._super(t)},_setOptions:function(n){var u,r=this.options.theme,i=this._ui.arrow,f=this._super(n);if(n.arrow!==t){if(!i&&n.arrow){this._ui.arrow=this._addArrow();return}i&&!n.arrow&&(i.arEls.remove(),this._ui.arrow=null)}return i=this._ui.arrow,i&&(n.theme!==t&&(r=this._themeClassFromOption("ui-body-",r),u=this._themeClassFromOption("ui-body-",n.theme),i.ar.removeClass(r).addClass(u)),n.shadow!==t&&i.ar.toggleClass("ui-overlay-shadow",n.shadow)),f},_destroy:function(){var n=this._ui.arrow;return n&&n.arEls.remove(),this._super()}})}(n),function(n,i){n.widget("touch.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",positionFixed:!1},_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var t=this.element,i=t.closest(".ui-page, :jqmData(role='page')");n.extend(this,{_closeLink:t.find(":jqmData(rel='close')"),_parentPage:i.length>0?i:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars});this.options.display!=="overlay"&&this._getWrapper();this._addPanelClasses();n.support.cssTransform3d&&!!this.options.animate&&this.element.addClass(this.options.classes.animate);this._bindUpdateLayout();this._bindLinkListeners();this._bindPageEvents();!this.options.dismissible||this._createModal()},_getPanelInner:function(){var n=this.element.find("."+this.options.classes.panelInner);return n.length===0&&(n=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"'><\/div>").parent()),n},_createModal:function(){var t=this,i=t._parentPage?t._parentPage.parent():t.element.parent();t._modal=n("<div class='"+t.options.classes.modal+"'><\/div>").on("mousedown",function(){t.close()}).appendTo(i)},_getPage:function(){return this._openedPage||this._parentPage||n("."+r.activePageClass)},_getWrapper:function(){var n=this._page().find("."+this.options.classes.pageWrapper);n.length===0&&(n=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'><\/div>").parent());this._wrapper=n},_getFixedToolbars:function(){var t=n("body").children(".ui-header-fixed, .ui-footer-fixed"),i=this._page().find(".ui-header-fixed, .ui-footer-fixed");return t.add(i).addClass(this.options.classes.pageFixedToolbar)},_getPosDisplayClasses:function(n){return n+"-position-"+this.options.position+" "+n+"-display-"+this.options.display},_getPanelClasses:function(){var n=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return!this.options.positionFixed||(n+=" "+this.options.classes.panelFixed),n},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_positionPanel:function(){var n=this,t=n._panelInner.outerHeight(),i=t>r.getScreenHeight();i||!n.options.positionFixed?i&&(n._unfixPanel(),r.resetActivePageHeight(t)):n._fixPanel()},_bindFixListener:function(){this._on(n(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(n(t),"throttledresize")},_unfixPanel:function(){!!this.options.positionFixed&&n.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){!!this.options.positionFixed&&n.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var n=this;n.element.on("updatelayout",function(){n._open&&n._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(t){var u,f=this.element.attr("id");if(t.currentTarget.href.split("#")[1]===f&&f!==i){if(t.preventDefault(),u=n(t.target),u.hasClass("ui-btn")){u.addClass(r.activeBtnClass);this.element.one("panelopen panelclose",function(){u.removeClass(r.activeBtnClass)})}this.toggle()}},_bindPageEvents:function(){var n=this;this.document.on("panelbeforeopen",function(t){n._open&&t.target!==n.element[0]&&n.close()});if(this._parentPage||this.options.display==="overlay"||this._on(this.document,{pageshow:function(){this._openedPage=null;this._getWrapper()}}),n._parentPage)this.document.on("pagehide",":jqmData(role='page')",function(){n._open&&n.close(!0)});else this.document.on("pagebeforehide",function(){n._open&&n.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var i=this,r=i.options,u=function(){i._off(i.document,"panelclose");i._page().jqmData("panel","open");n.support.cssTransform3d&&!!r.animate&&r.display!=="overlay"&&(i._wrapper.addClass(r.classes.animate),i._fixedToolbars().addClass(r.classes.animate));t||!n.support.cssTransform3d||!r.animate?setTimeout(f,0):(i._wrapper||i.element).animationComplete(f,"transition");r.theme&&r.display!=="overlay"&&i._page().parent().addClass(r.classes.pageContainer+"-themed "+r.classes.pageContainer+"-"+r.theme);i.element.removeClass(r.classes.panelClosed).addClass(r.classes.panelOpen);i._positionPanel(!0);i._pageContentOpenClasses=i._getPosDisplayClasses(r.classes.pageContentPrefix);r.display!=="overlay"&&(i._page().parent().addClass(r.classes.pageContainer),i._wrapper.addClass(i._pageContentOpenClasses),i._fixedToolbars().addClass(i._pageContentOpenClasses));i._modalOpenClasses=i._getPosDisplayClasses(r.classes.modal)+" "+r.classes.modalOpen;i._modal&&i._modal.addClass(i._modalOpenClasses).height(Math.max(i._modal.height(),i.document.height()))},f=function(){i._open&&(r.display!=="overlay"&&(i._wrapper.addClass(r.classes.pageContentPrefix+"-open"),i._fixedToolbars().addClass(r.classes.pageContentPrefix+"-open")),i._bindFixListener(),i._trigger("open"),i._openedPage=i._page())};i._trigger("beforeopen");i._page().jqmData("panel")==="open"?i._on(i.document,{panelclose:u}):u();i._open=!0}},close:function(t){if(this._open){var i=this,u=this.options,e=function(){i.element.removeClass(u.classes.panelOpen);u.display!=="overlay"&&(i._wrapper.removeClass(i._pageContentOpenClasses),i._fixedToolbars().removeClass(i._pageContentOpenClasses));t||!n.support.cssTransform3d||!u.animate?setTimeout(f,0):(i._wrapper||i.element).animationComplete(f,"transition");i._modal&&i._modal.removeClass(i._modalOpenClasses).height("")},f=function(){u.theme&&u.display!=="overlay"&&i._page().parent().removeClass(u.classes.pageContainer+"-themed "+u.classes.pageContainer+"-"+u.theme);i.element.addClass(u.classes.panelClosed);u.display!=="overlay"&&(i._page().parent().removeClass(u.classes.pageContainer),i._wrapper.removeClass(u.classes.pageContentPrefix+"-open"),i._fixedToolbars().removeClass(u.classes.pageContentPrefix+"-open"));n.support.cssTransform3d&&!!u.animate&&u.display!=="overlay"&&(i._wrapper.removeClass(u.classes.animate),i._fixedToolbars().removeClass(u.classes.animate));i._fixPanel();i._unbindFixListener();r.resetActivePageHeight();i._page().jqmRemoveData("panel");i._trigger("close");i._openedPage=null};i._trigger("beforeclose");e();i._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var i,t=this.options,u=n("body > :touch-panel").length+r.activePage.find(":touch-panel").length>1;t.display!=="overlay"&&(i=n("body > :touch-panel").add(r.activePage.find(":touch-panel")),i.not(".ui-panel-display-overlay").not(this.element).length===0&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(t.classes.pageContentPrefix+"-open"),n.support.cssTransform3d&&!!t.animate&&this._fixedToolbars().removeClass(t.classes.animate),this._page().parent().removeClass(t.classes.pageContainer),t.theme&&this._page().parent().removeClass(t.classes.pageContainer+"-themed "+t.classes.pageContainer+"-"+t.theme)));u||this.document.off("panelopen panelclose");this._open&&this._page().jqmRemoveData("panel");this._panelInner.children().unwrap();this.element.removeClass([this._getPanelClasses(),t.classes.panelOpen,t.classes.animate].join(" ")).off("panelbeforeopen").off("panelhide").off("updatelayout");this._modal&&this._modal.remove()}})}(n),function(n,i){var u=function(t,i){return(""+(r.getAttribute(this,"filtertext")||n(this).text())).toLowerCase().indexOf(i)===-1};n.widget("touch.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:u,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr"},_create:function(){var t=this.options;n.extend(this,{_search:null,_timer:0});this._setInput(t.input);t.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var i,u,n=this._search;if(n){if(i=n.val().toLowerCase(),u=r.getAttribute(n[0],"lastval")+"",u&&u===i)return;this._timer&&(t.clearTimeout(this._timer),this._timer=0);this._timer=this._delay(function(){if(this._trigger("beforefilter",null,{input:n})===!1)return!1;n[0].setAttribute("data-"+r.ns+"lastval",i);this._filterItems(i);this._timer=0},250)}},_getFilterableItems:function(){var r=this.element,t=this.options.children,i=t?n.isFunction(t)?t():t.nodeName?n(t):t.jquery?t:this.element.find(t):{length:0};return i.length===0&&(i=r.children()),i},_filterItems:function(t){var i,e,o,s,h=[],f=[],c=this.options,r=this._getFilterableItems();if(t!=null)for(e=c.filterCallback||u,o=r.length,i=0;i<o;i++)s=e.call(r[i],i,t)?f:h,s.push(r[i]);f.length===0?r[c.filterReveal&&t.length===0?"addClass":"removeClass"]("ui-screen-hidden"):(n(f).addClass("ui-screen-hidden"),n(h).removeClass("ui-screen-hidden"));this._refreshChildWidget();this._trigger("filter",null,{items:r})},_refreshChildWidget:function(){for(var t,u=["collapsibleset","selectmenu","controlgroup","listview"],i=u.length-1;i>-1;i--)t=u[i],r[t]&&(t=this.element.data("mobile-"+t),t&&n.isFunction(t.refresh)&&t.refresh())},_setInput:function(i){var r=this._search;this._timer&&(t.clearTimeout(this._timer),this._timer=0);r&&(this._off(r,"keyup change input"),r=null);i&&(r=i.jquery?i:i.nodeName?n(i):this.document.find(i),this._on(r,{keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"}));this._search=r},_onKeyPress:function(n){this._preventKeyPress&&(n.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(n){var t=!(n.filterReveal===i&&n.filterCallback===i&&n.children===i);this._super(n);n.input!==i&&(this._setInput(n.input),t=!0);t&&this.refresh()},_destroy:function(){var n=this.options,t=this._getFilterableItems();n.enhanced?t.toggleClass("ui-screen-hidden",n.filterReveal):t.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(t.clearTimeout(this._timer),this._timer=0);this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(n),function(n,t){var i=function(n,t){return function(i){t.call(this,i);n._syncTextInputOptions(i)}},u=/(^|\s)ui-li-divider(\s|$)/,f=r.filterable.prototype.options.filterCallback;r.filterable.prototype.options.filterCallback=function(n,t){return!this.className.match(u)&&f.call(this,n,t)};n.widget("touch.filterable",r.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var t,i,u=this.element,f=["collapsibleset","selectmenu","controlgroup","listview"],e={};for(this._super(),n.extend(this,{_widget:null}),t=f.length-1;t>-1;t--)if(i=f[t],r[i])if(this._setWidget(u.data("mobile-"+i)))break;else e[i+"create"]="_handleCreate";this._widget||this._on(u,e)},_handleCreate:function(n){this._setWidget(this.element.data("mobile-"+n.type.substring(0,n.type.length-6)))},_trigger:function(n,t,i){return this._widget&&this._widget.widgetFullName==="mobile-listview"&&n==="beforefilter"&&this._widget._trigger("beforefilter",t,i),this._super(n,t,i)},_setWidget:function(n){return!this._widget&&n&&(this._widget=n,this._widget._setOptions=i(this,this._widget._setOptions)),!this._widget||(this._syncTextInputOptions(this._widget.options),this._widget.widgetName==="listview"&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(t){var i=this.options,u=!0,f={};if(!t){if(this._isSearchInternal())return;u=!1;t=n("<input data-"+r.ns+"type='search' placeholder='"+i.filterPlaceholder+"'><\/input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0);n("<form class='ui-filterable'><\/form>").append(t).submit(function(n){n.preventDefault();t.blur()}).insertBefore(this.element);r.textinput&&(this.options.filterTheme!=null&&(f.theme=i.filterTheme),t.textinput(f))}this._super(t);this._isSearchInternal()&&u&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(n){var i=this._super(n);return n.filterPlaceholder!==t&&this._isSearchInternal()&&this._search.attr("placeholder",n.filterPlaceholder),n.filterTheme!==t&&this._search&&r.textinput&&this._search.textinput("option","theme",n.filterTheme),i},_refreshChildWidget:function(){this._refreshingChildWidget=!0;this._superApply(arguments);this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove();this._super()},_syncTextInputOptions:function(n){var i,u={};if(this._isSearchInternal()&&r.textinput){for(i in r.textinput.prototype.options)n[i]!==t&&(u[i]=i==="theme"&&this.options.filterTheme!=null?this.options.filterTheme:n[i]);this._search.textinput("option",u)}}});n.widget("touch.listview",r.listview,{options:{filter:!1},_create:function(){return this.options.filter!==!0||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var n;this._superApply(arguments);this.options.filter===!0&&(n=this.element.data("mobile-filterable"),n&&n.refresh())}})}(n),function(n,t){var i,s,f,e,o,u;i=r.zoom}(n,this),function(n,t,u){var f=n("html"),e=r.window;n(t.document).trigger("mobileinit");f.addClass("ui-mobile");n.extend(r,{initializePage:function(){var t=r.path,f=n(":jqmData(role='page'), :jqmData(role='dialog')"),o=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),s=r.path.parseLocation(),h=o?i.getElementById(o):u;f.length||(f=n("body").wrapInner("<div data-"+r.ns+"role='page'><\/div>").children(0));f.each(function(){var i=n(this);i[0].getAttribute("data-"+r.ns+"url")||i.attr("data-"+r.ns+"url",i.attr("id")||t.convertUrlToDataUrl(s.pathname+s.search))});r.firstPage=f.first();r.pageContainer=r.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer();e.trigger("pagecontainercreate");r.hashListeningEnabled&&r.path.isHashValid(location.hash)&&(n(h).is(":jqmData(role='page')")||r.path.isPath(o)||o===r.dialogHashKey)?(r.navigate.history.stack=[],r.navigate(r.path.isPath(location.hash)?location.hash:location.href)):(r.navigate.navigator.squash(t.parseLocation().href),r.changePage(r.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}});n(function(){r.defaultHomeScroll=1})}(n,this)})